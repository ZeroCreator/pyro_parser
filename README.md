# pyro_parser

# Парсер магазинов пиротехники Яндекс.Карт

Парсер для сбора данных о магазинах пиротехники в Ростове-на-Дону с Яндекс.Карт.

## Установка

1. Установите Python 3.8 или выше
2. Установите зависимости:

```bash
pip install -r requirements.txt
```

# ТЗ:
На яндекс картах раз в неделю должен будет прходить парсинг Новых точки магазинов пиротехники (Пиротехника / салюты / фейерверки)

Ехсель или CSV 

Адрес, номер телефона, сайт

# Зонирование

```phyton
# Области для поиска
# 1 вариант с 6 зонами (24)
self.search_areas = [
    {
        "name": "Весь город (общий поиск)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.672226%2C0.318267&z=11"
    },
    {
        "name": "Центр города детально",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    },
    {
        "name": "Северные районы",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.282724&sll=39.720451%2C47.282724&sspn=0.336113%2C0.159133&z=12"
    },
    {
        "name": "Южные районы", 
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.182724&sll=39.720451%2C47.182724&sspn=0.336113%2C0.159133&z=12"
    },
    {
        "name": "Западные районы",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.620451%2C47.232724&sll=39.620451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    },
    {
        "name": "Восточные районы",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.820451%2C47.232724&sll=39.820451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    }
]
        
# 2 вариант с 6 зонами
self.search_areas = [
    # Центр города
    {
        "name": "Центр города",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    },
    # Северные районы
    {
        "name": "Северные районы",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.282724&sll=39.720451%2C47.282724&sspn=0.336113%2C0.159133&z=12"
    },
    # Южные районы
    {
        "name": "Южные районы",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.182724&sll=39.720451%2C47.182724&sspn=0.336113%2C0.159133&z=12"
    },
    # Западные районы
    {
        "name": "Западные районы",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.620451%2C47.232724&sll=39.620451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    },
    # Восточные районы
    {
        "name": "Восточные районы",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.820451%2C47.232724&sll=39.820451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    },
    # Северо-восток
    {
        "name": "Северо-восток",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.820451%2C47.282724&sll=39.820451%2C47.282724&sspn=0.336113%2C0.159133&z=12"
    }
]

# 3 вариант с 8 зонами поиска       
self.search_areas = [
    # Общий поиск по всему городу (меньший масштаб)
    {
        "name": "Весь город (z=12)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    },
    # Центр города с увеличенным масштабом
    {
        "name": "Центр города (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.168056%2C0.079566&z=13"
    },
    # Северные районы с увеличенным масштабом
    {
        "name": "Северные районы (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.282724&sll=39.720451%2C47.282724&sspn=0.168056%2C0.079566&z=13"
    },
    # Южные районы с увеличенным масштабом
    {
        "name": "Южные районы (z=13)", 
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.182724&sll=39.720451%2C47.182724&sspn=0.168056%2C0.079566&z=13"
    },
    # Западные районы с увеличенным масштабом
    {
        "name": "Западные районы (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.620451%2C47.232724&sll=39.620451%2C47.232724&sspn=0.168056%2C0.079566&z=13"
    },
    # Восточные районы с увеличенным масштабом
    {
        "name": "Восточные районы (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.820451%2C47.232724&sll=39.820451%2C47.232724&sspn=0.168056%2C0.079566&z=13"
    },
    # Еще более детальный поиск в центре
    {
        "name": "Центр детально (z=14)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.084028%2C0.039783&z=14"
    },
    # Детальный поиск вокруг ключевых точек
    {
        "name": "Окрестности центра (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.730451%2C47.242724&sll=39.730451%2C47.242724&sspn=0.168056%2C0.079566&z=13"
    }
]

# Области для поиска (8 зон с разным масштабом для лучшего покрытия) (35)
self.search_areas = [
    # Общий поиск по всему городу (меньший масштаб)
    {
        "name": "Весь город (z=12)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.336113%2C0.159133&z=12"
    },
    # Центр города с увеличенным масштабом
    {
        "name": "Центр города (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.168056%2C0.079566&z=13"
    },
    # Северные районы с увеличенным масштабом
    {
        "name": "Северные районы (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.282724&sll=39.720451%2C47.282724&sspn=0.168056%2C0.079566&z=13"
    },
    # Южные районы с увеличенным масштабом
    {
        "name": "Южные районы (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.182724&sll=39.720451%2C47.182724&sspn=0.168056%2C0.079566&z=13"
    },
    # Западные районы с увеличенным масштабом
    {
        "name": "Западные районы (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.620451%2C47.232724&sll=39.620451%2C47.232724&sspn=0.168056%2C0.079566&z=13"
    },
    # Восточные районы с увеличенным масштабом
    {
        "name": "Восточные районы (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.820451%2C47.232724&sll=39.820451%2C47.232724&sspn=0.168056%2C0.079566&z=13"
    },
    # Еще более детальный поиск в центре
    {
        "name": "Центр детально (z=14)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.720451%2C47.232724&sll=39.720451%2C47.232724&sspn=0.084028%2C0.039783&z=14"
    },
    # Детальный поиск вокруг ключевых точек
    {
        "name": "Окрестности центра (z=13)",
        "url": "https://yandex.ru/maps/39/rostov-na-donu/search/пиротехника/?ll=39.730451%2C47.242724&sll=39.730451%2C47.242724&sspn=0.168056%2C0.079566&z=13"
    }
]
```

**Уровень масштабирования (z):**

z=10-11: показывается весь город, но меньше деталей

z=12-13: более детальный вид, лучше для сбора магазинов

z=14-15: слишком детально, покажет мало магазинов сразу

**Размер области поиска (sspn):**

Большие значения (0.6,0.3) - большая область, больше магазинов

Малые значения (0.1,0.1) - маленькая область, меньше магазинов

**Стратегия:**

Разбить город на 4-6 областей

Для каждой области использовать z=12

Использовать разные центры (ll) для покрытия всего города

Объединить результаты и удалить дубликаты